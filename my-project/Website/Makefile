# OpenDeepWiki Frontend Makefile

.PHONY: help install dev build preview lint test clean docker-build docker-run

# é»˜è®¤ç›®æ ‡
help:
	@echo "OpenDeepWiki Frontend æ„å»ºå·¥å…·"
	@echo ""
	@echo "å¯ç”¨å‘½ä»¤:"
	@echo "  install     å®‰è£…ä¾èµ–"
	@echo "  dev         å¯åŠ¨å¼€å‘æœåŠ¡å™¨"
	@echo "  build       æ„å»ºç”Ÿäº§ç‰ˆæœ¬"
	@echo "  preview     é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬"
	@echo "  lint        ä»£ç æ£€æŸ¥"
	@echo "  test        è¿è¡Œæµ‹è¯•"
	@echo "  clean       æ¸…ç†æ„å»ºæ–‡ä»¶"
	@echo "  docker-build æ„å»ºDockeré•œåƒ"
	@echo "  docker-run  è¿è¡ŒDockerå®¹å™¨"

# å®‰è£…ä¾èµ–
install:
	@echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
	npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
dev:
	@echo "ğŸš€ å¯åŠ¨å¼€å‘æœåŠ¡å™¨..."
	npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
build:
	@echo "ğŸ”¨ æ„å»ºç”Ÿäº§ç‰ˆæœ¬..."
	npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
preview:
	@echo "ğŸ‘€ é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬..."
	npm run preview

# ä»£ç æ£€æŸ¥
lint:
	@echo "ğŸ” ä»£ç æ£€æŸ¥..."
	npm run lint

# è¿è¡Œæµ‹è¯•
test:
	@echo "ğŸ§ª è¿è¡Œæµ‹è¯•..."
	npm test

# æ¸…ç†æ„å»ºæ–‡ä»¶
clean:
	@echo "ğŸ§¹ æ¸…ç†æ„å»ºæ–‡ä»¶..."
	rm -rf dist
	rm -rf node_modules/.cache

# æ„å»ºDockeré•œåƒ
docker-build:
	@echo "ğŸ³ æ„å»ºDockeré•œåƒ..."
	docker build -t opendeepwiki-frontend .

# è¿è¡ŒDockerå®¹å™¨
docker-run:
	@echo "ğŸ³ è¿è¡ŒDockerå®¹å™¨..."
	docker run -p 3000:80 opendeepwiki-frontend

# å®Œæ•´æ„å»ºæµç¨‹
all: install lint build
	@echo "âœ… å®Œæ•´æ„å»ºæµç¨‹å®Œæˆï¼" 